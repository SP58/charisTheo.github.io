{"version":3,"sources":["app.js","portfolio.ctr.js","portfolio-bundle.min.js","share-listener.fac.js"],"names":["app","angular","module","config","$mdThemingProvider","theme","primaryPalette","accentPalette","directive","scope","restrict","templateUrl","onContactClick","link","elm","attrs","images","JSON","parse","selectedImage","selectImage","index","PortfolioCtrl","$scope","$http","$mdSidenav","$mdMedia","ShareListener","$location","$anchorScroll","$mdToast","get","then","response","projects","data","shareButtonListener","listener","copyToClipboard","nightMode","showPWAInstallButton","deferredPromptEvent","undefined","documentLoaded","twitterButtonInitialised","cardToggle","selectedCardIndex","selectedCard","yOffset","toggleSocialLinks","showSocialLinks","isOpen","toggle","$watch","isIos","isInStandaloneMode","console","log","navigator","serviceWorker","register","registration","onupdatefound","newServiceWorker","installing","onstatechange","controller","show","simple","textContent","error","onLine","twitterButtonScript","document","createElement","type","src","charset","async","querySelector","appendChild","onload","handleOfflineEvent","setTimeout","querySelectorAll","forEach","button","addEventListener","event","currentTarget","getAttribute","dataArr","split","eventCategory","splice","eventLabel","join","gtag","_defineProperty","selectCard","$event","$index","hash","window","history","replaceState","title","cancelBubble","onFavouriteClick","_this","iconContent","children","toggleSideNav","installPWA","prompt","userChoice","choiceResult","ga","outcome","e","preventDefault","handleOnlineEvent","hideOfflineUnavailableProjects","projectsRuntimeCache","keys","caches","projectMedia","key","url","indexOf","filter","project","id","length","classList","add","remove","test","userAgent","platform","maxTouchPoints","matchMedia","matches","standalone","$inject","factory","str","el","value","body","select","execCommand","removeChild","hideDelay","share","text","href"],"mappings":"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","file":"portfolio-bundle.min.js","sourcesContent":["let app = angular.module('Portfolio', ['ngMaterial', 'ngAnimate']);\n    \napp\n.config(function($mdThemingProvider) {\n    $mdThemingProvider.theme('default')\n        .primaryPalette('deep-purple')\n        .accentPalette('green');\n})\n.directive('svgLogo', function() {\n    return {\n        scope: false,\n        restrict: 'E',\n        templateUrl: './../partials/compressed/svgLogo.html'\n    }\n})\n.directive('socialLinks', function() {\n    return {\n        scope: false,\n        restrict: 'E',\n        templateUrl: '/partials/compressed/socialLinks.html'\n    }\n})\n.directive('sideNavList', function() {\n    return {\n        scope: {\n            onContactClick: '&'\n        },\n        restrict: 'E',\n        templateUrl: '/partials/compressed/sidenavList.html',\n    }\n})\n.directive('imagePicker', function() {\n    return {\n        scope: false,\n        restrict: 'E',\n        templateUrl: '/partials/compressed/imagePicker.html',\n        link: function(scope, elm, attrs) {\n            if (!attrs.images) return;\n            scope.images = JSON.parse(attrs.images);\n            scope.selectedImage = 0;\n            scope.selectImage = function(index) {\n                scope.selectedImage = index;\n            }\n        }\n    }\n})\n.directive('frameworksImages', function() {\n    return {\n        scope: false,\n        restrict: 'E',\n        templateUrl: '/partials/compressed/frameworksImages.html',\n        link: function(scope, elm, attrs) {\n            if (!attrs.images) return;\n            scope.images = JSON.parse(attrs.images);\n        }\n    }\n});\n","(function(){\n    'use strict';\n\n    angular\n        .module('Portfolio')\n        .controller('PortfolioCtrl', PortfolioCtrl);\n\n    PortfolioCtrl.$inject = ['$scope', '$http', '$mdSidenav', '$mdMedia', 'ShareListener', '$location', '$anchorScroll', '$mdToast'];\n\n    function PortfolioCtrl($scope, $http, $mdSidenav, $mdMedia, ShareListener, $location, $anchorScroll, $mdToast) {\n        $http.get('projects-data.json').then(function(response) {\n            $scope.projects = response.data;\n        });\n        $scope.$mdMedia = $mdMedia;\n        $scope.shareButtonListener = ShareListener.listener;\n        $scope.copyToClipboard = ShareListener.copyToClipboard;\n        $scope.nightMode = false;\n        $scope.showPWAInstallButton = false;\n        $scope.deferredPromptEvent = undefined;\n        $scope.documentLoaded = false;\n        $scope.twitterButtonInitialised = false;\n        $scope.cardToggle = false;\n        $scope.selectedCardIndex = undefined;\n        $scope.selectedCard = undefined;\n        $anchorScroll.yOffset = 72;\n\n        $scope.toggleSocialLinks = function() {\n            $scope.showSocialLinks = !$scope.showSocialLinks;\n            // close side nav if open\n            if ($mdSidenav('left').isOpen) {\n                $mdSidenav('left').toggle();\n            }\n        };\n        // $scope.togglePeoplePerHourWidget = function() {\n        //     $scope.showPeoplePerHourWidget = !$scope.showPeoplePerHourWidget;\n        //     // close side nav if open\n        //     if ($mdSidenav('left').isOpen) {\n        //         $mdSidenav('left').toggle();\n        //     }\n        // };\n\n        $scope.$watch('$viewContentLoaded', function(){\n            const isNightModePreferred = $mdMedia('(prefers-color-scheme: dark)');\n            if (isNightModePreferred) {\n                $scope.nightMode = true;\n            }\n            $scope.documentLoaded = true;\n            if (!isIos && !isInStandaloneMode) {\n                // * show install button\n                console.log('show install button');\n                $scope.showPWAInstallButton = true;\n            }\n\n            if ('serviceWorker' in navigator) { \n                navigator.serviceWorker.register('/service-worker.js', {scope: '/'})\n                .then(function(registration) {\n                    registration.onupdatefound = () => {\n                        const newServiceWorker = registration.installing;\n                        newServiceWorker.onstatechange = () => {\n                            switch (newServiceWorker.state) {\n                                case 'installing': \n                                    if (navigator.serviceWorker.controller) {\n                                        $mdToast.show(\n                                            $mdToast\n                                                .simple()\n                                                .textContent('A new version of the website is available 🙋. <a onclick=\"window.location.reload()\">Reload</a> the page to see the new goodness 💠')\n                                        );\n                                    }\n                                    break;\n                                default:\n                                    break;\n                            }\n                        }\n                    }\n                    console.log('Service Worker registration succeeded. Scope is ' + registration.scope);\n                    \n                }).catch(function(error) {\n                    console.log('Service Worker registration failed with ' + error);\n                });\n\n            }\n\n            // * check network status and handle offline status\n            if (!navigator.onLine) {\n                handleOfflineEvent();\n            } else {\n                // * fetch Twitter script for follow button\n                var twitterButtonScript = document.createElement(\"script\");\n                twitterButtonScript.type = \"text/javascript\"\n                twitterButtonScript.src = \"https://platform.twitter.com/widgets.js\";\n                twitterButtonScript.charset = \"utf-8\";\n                twitterButtonScript.async = true;\n                document.querySelector('head').appendChild(twitterButtonScript);\n                twitterButtonScript.onload = function() {\n                    $scope.twitterButtonInitialised = true;\n                }\n            }\n\n\n            // * Attach event listeners for sending data to google analytics\n            setTimeout(() => {\n                document.querySelectorAll('.md-button').forEach(button => {\n                    button.addEventListener('click', (event) => {\n                        const data = event.currentTarget.getAttribute('data-analytics');\n                        if (!data) {\n                            return\n                        }\n                        const dataArr = data.split(' ');\n                        const eventCategory = dataArr.splice(0, 1)[0];\n                        const eventLabel = dataArr.join(' ');\n\n                        gtag(\n                            'event', \n                            'click', \n                            {[eventCategory]: eventLabel}\n                        )\n                        // window.ga('send', {\n                        //     hitType: 'event',\n                        //     eventAction: 'click',\n                        //     eventCategory,\n                        //     eventLabel\n                        // });\n                    });\n                });\n            }, 1000);\n        });\n\n        $scope.selectCard = function($event, $index) {\n            if ($scope.selectedCardIndex != $index) {\n                // select card\n                $scope.selectedCard = $scope.projects[$index];\n                $scope.selectedCardIndex = $index;\n                // scroll to top of card\n                $location.hash(\"project\" + $index);\n                $anchorScroll(\"project\" + $index);\n            } else {\n                // unselect card\n                $scope.selectedCardIndex = undefined;\n                $scope.selectedCard = undefined;\n                // $location.url('');\n                window.history.replaceState({}, document.title, '/');\n            }\n            $event.cancelBubble = true; // prevent from firing again\n        };\n\n        $scope.onFavouriteClick = function($event) {\n            // TODO: Add animation transition\n            let _this = $event.currentTarget;\n            let iconContent = _this.children[0].textContent;\n            console.log(iconContent);\n            if (iconContent == 'favorite') {\n                _this.children[0].textContent = 'favorite_border';\n            } else {\n                _this.children[0].textContent = 'favorite';\n            }\n            $event.cancelBubble = true; // prevent the card from toggling\n        };\n\n        $scope.toggleSideNav = function() {\n            $mdSidenav('left').toggle();\n        };\n\n        $scope.installPWA = function() {\n            console.log('Installing PWA');\n\n            $scope.showPWAInstallButton = false;\n            $scope.deferredPromptEvent.prompt();\n            $scope.deferredPromptEvent.userChoice.then(function(choiceResult) {\n                // * track PWA installs\n                ga('send', 'event', 'A2HS', choiceResult.outcome); // 'dismissed' or 'accepted'\n                $scope.deferredPromptEvent = null;\n            });\n        };\n\n        window.addEventListener('beforeinstallprompt', function(e) {\n            e.preventDefault(); \n            $scope.deferredPromptEvent = e; \n        });\n\n        window.addEventListener('offline', () => { handleOfflineEvent() });\n        window.addEventListener('online', () => { handleOnlineEvent() });\n        \n        const hideOfflineUnavailableProjects = () => {\n            const projects = document.querySelectorAll('.project')\n            caches.open('runtime-projects-media').then(projectsRuntimeCache => {\n                projects.forEach(project => {\n                    projectsRuntimeCache.keys().then(keys => {\n                        const projectMedia = keys.filter(key => key.url.indexOf(project.id) !== -1);\n                        if (!projectMedia.length) {\n                            // * reduce opacity of unavailable project pages\n                            project.classList.add('unavailable-offline');\n                        }\n                    });\n                });\n            });\n        }\n\n        const handleOfflineEvent = () => {\n            $mdToast.show(\n                $mdToast.simple().textContent('You are offline 📴')\n            );\n\n            hideOfflineUnavailableProjects();\n        }\n\n        const handleOnlineEvent = () => {\n            $mdToast.show(\n                $mdToast.simple().textContent('You are back online! 🎉')\n            );\n\n            const projects = document.querySelectorAll('.project');\n            projects.forEach(project => {\n                project.classList.remove('unavailable-offline');\n            });\n        }\n\n        // Detects if device is an iOS (including iOS 13) \n        const isIos = /iPad|iPhone|iPod/.test(navigator.userAgent) || (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);\n\n        // Detects if device is in standalone mode\n        const isInStandaloneMode = window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone === true;\n        \n    }\n\n})();","let app = angular.module('Portfolio', ['ngMaterial', 'ngAnimate']);\n    \napp\n.config([\"$mdThemingProvider\", function($mdThemingProvider) {\n    $mdThemingProvider.theme('default')\n        .primaryPalette('deep-purple')\n        .accentPalette('green');\n}])\n.directive('svgLogo', function() {\n    return {\n        scope: false,\n        restrict: 'E',\n        templateUrl: './../partials/compressed/svgLogo.html'\n    }\n})\n.directive('socialLinks', function() {\n    return {\n        scope: false,\n        restrict: 'E',\n        templateUrl: '/partials/compressed/socialLinks.html'\n    }\n})\n.directive('sideNavList', function() {\n    return {\n        scope: {\n            onContactClick: '&'\n        },\n        restrict: 'E',\n        templateUrl: '/partials/compressed/sidenavList.html',\n    }\n})\n.directive('imagePicker', function() {\n    return {\n        scope: false,\n        restrict: 'E',\n        templateUrl: '/partials/compressed/imagePicker.html',\n        link: function(scope, elm, attrs) {\n            if (!attrs.images) return;\n            scope.images = JSON.parse(attrs.images);\n            scope.selectedImage = 0;\n            scope.selectImage = function(index) {\n                scope.selectedImage = index;\n            }\n        }\n    }\n})\n.directive('frameworksImages', function() {\n    return {\n        scope: false,\n        restrict: 'E',\n        templateUrl: '/partials/compressed/frameworksImages.html',\n        link: function(scope, elm, attrs) {\n            if (!attrs.images) return;\n            scope.images = JSON.parse(attrs.images);\n        }\n    }\n});\n\n(function(){\n    'use strict';\n\n    angular\n        .module('Portfolio')\n        .controller('PortfolioCtrl', PortfolioCtrl);\n\n    PortfolioCtrl.$inject = ['$scope', '$http', '$mdSidenav', '$mdMedia', 'ShareListener', '$location', '$anchorScroll', '$mdToast'];\n\n    function PortfolioCtrl($scope, $http, $mdSidenav, $mdMedia, ShareListener, $location, $anchorScroll, $mdToast) {\n        $http.get('projects-data.json').then(function(response) {\n            $scope.projects = response.data;\n        });\n        $scope.$mdMedia = $mdMedia;\n        $scope.shareButtonListener = ShareListener.listener;\n        $scope.copyToClipboard = ShareListener.copyToClipboard;\n        $scope.nightMode = false;\n        $scope.showPWAInstallButton = false;\n        $scope.deferredPromptEvent = undefined;\n        $scope.documentLoaded = false;\n        $scope.twitterButtonInitialised = false;\n        $scope.cardToggle = false;\n        $scope.selectedCardIndex = undefined;\n        $scope.selectedCard = undefined;\n        $anchorScroll.yOffset = 72;\n\n        $scope.toggleSocialLinks = function() {\n            $scope.showSocialLinks = !$scope.showSocialLinks;\n            // close side nav if open\n            if ($mdSidenav('left').isOpen) {\n                $mdSidenav('left').toggle();\n            }\n        };\n        // $scope.togglePeoplePerHourWidget = function() {\n        //     $scope.showPeoplePerHourWidget = !$scope.showPeoplePerHourWidget;\n        //     // close side nav if open\n        //     if ($mdSidenav('left').isOpen) {\n        //         $mdSidenav('left').toggle();\n        //     }\n        // };\n\n        $scope.$watch('$viewContentLoaded', function(){\n            const isNightModePreferred = $mdMedia('(prefers-color-scheme: dark)');\n            if (isNightModePreferred) {\n                $scope.nightMode = true;\n            }\n            $scope.documentLoaded = true;\n            if (!isIos && !isInStandaloneMode) {\n                // * show install button\n                console.log('show install button');\n                $scope.showPWAInstallButton = true;\n            }\n\n            if ('serviceWorker' in navigator) { \n                navigator.serviceWorker.register('/service-worker.js', {scope: '/'})\n                .then(function(registration) {\n                    registration.onupdatefound = () => {\n                        const newServiceWorker = registration.installing;\n                        newServiceWorker.onstatechange = () => {\n                            switch (newServiceWorker.state) {\n                                case 'installing': \n                                    if (navigator.serviceWorker.controller) {\n                                        $mdToast.show(\n                                            $mdToast\n                                                .simple()\n                                                .textContent('A new version of the website is available 🙋. <a onclick=\"window.location.reload()\">Reload</a> the page to see the new goodness 💠')\n                                        );\n                                    }\n                                    break;\n                                default:\n                                    break;\n                            }\n                        }\n                    }\n                    console.log('Service Worker registration succeeded. Scope is ' + registration.scope);\n                    \n                }).catch(function(error) {\n                    console.log('Service Worker registration failed with ' + error);\n                });\n\n            }\n\n            // * check network status and handle offline status\n            if (!navigator.onLine) {\n                handleOfflineEvent();\n            } else {\n                // * fetch Twitter script for follow button\n                var twitterButtonScript = document.createElement(\"script\");\n                twitterButtonScript.type = \"text/javascript\"\n                twitterButtonScript.src = \"https://platform.twitter.com/widgets.js\";\n                twitterButtonScript.charset = \"utf-8\";\n                twitterButtonScript.async = true;\n                document.querySelector('head').appendChild(twitterButtonScript);\n                twitterButtonScript.onload = function() {\n                    $scope.twitterButtonInitialised = true;\n                }\n            }\n\n\n            // * Attach event listeners for sending data to google analytics\n            setTimeout(() => {\n                document.querySelectorAll('.md-button').forEach(button => {\n                    button.addEventListener('click', (event) => {\n                        const data = event.currentTarget.getAttribute('data-analytics');\n                        if (!data) {\n                            return\n                        }\n                        const dataArr = data.split(' ');\n                        const eventCategory = dataArr.splice(0, 1)[0];\n                        const eventLabel = dataArr.join(' ');\n\n                        gtag(\n                            'event', \n                            'click', \n                            {[eventCategory]: eventLabel}\n                        )\n                        // window.ga('send', {\n                        //     hitType: 'event',\n                        //     eventAction: 'click',\n                        //     eventCategory,\n                        //     eventLabel\n                        // });\n                    });\n                });\n            }, 1000);\n        });\n\n        $scope.selectCard = function($event, $index) {\n            if ($scope.selectedCardIndex != $index) {\n                // select card\n                $scope.selectedCard = $scope.projects[$index];\n                $scope.selectedCardIndex = $index;\n                // scroll to top of card\n                $location.hash(\"project\" + $index);\n                $anchorScroll(\"project\" + $index);\n            } else {\n                // unselect card\n                $scope.selectedCardIndex = undefined;\n                $scope.selectedCard = undefined;\n                // $location.url('');\n                window.history.replaceState({}, document.title, '/');\n            }\n            $event.cancelBubble = true; // prevent from firing again\n        };\n\n        $scope.onFavouriteClick = function($event) {\n            // TODO: Add animation transition\n            let _this = $event.currentTarget;\n            let iconContent = _this.children[0].textContent;\n            console.log(iconContent);\n            if (iconContent == 'favorite') {\n                _this.children[0].textContent = 'favorite_border';\n            } else {\n                _this.children[0].textContent = 'favorite';\n            }\n            $event.cancelBubble = true; // prevent the card from toggling\n        };\n\n        $scope.toggleSideNav = function() {\n            $mdSidenav('left').toggle();\n        };\n\n        $scope.installPWA = function() {\n            console.log('Installing PWA');\n\n            $scope.showPWAInstallButton = false;\n            $scope.deferredPromptEvent.prompt();\n            $scope.deferredPromptEvent.userChoice.then(function(choiceResult) {\n                // * track PWA installs\n                ga('send', 'event', 'A2HS', choiceResult.outcome); // 'dismissed' or 'accepted'\n                $scope.deferredPromptEvent = null;\n            });\n        };\n\n        window.addEventListener('beforeinstallprompt', function(e) {\n            e.preventDefault(); \n            $scope.deferredPromptEvent = e; \n        });\n\n        window.addEventListener('offline', () => { handleOfflineEvent() });\n        window.addEventListener('online', () => { handleOnlineEvent() });\n        \n        const hideOfflineUnavailableProjects = () => {\n            const projects = document.querySelectorAll('.project')\n            caches.open('runtime-projects-media').then(projectsRuntimeCache => {\n                projects.forEach(project => {\n                    projectsRuntimeCache.keys().then(keys => {\n                        const projectMedia = keys.filter(key => key.url.indexOf(project.id) !== -1);\n                        if (!projectMedia.length) {\n                            // * reduce opacity of unavailable project pages\n                            project.classList.add('unavailable-offline');\n                        }\n                    });\n                });\n            });\n        }\n\n        const handleOfflineEvent = () => {\n            $mdToast.show(\n                $mdToast.simple().textContent('You are offline 📴')\n            );\n\n            hideOfflineUnavailableProjects();\n        }\n\n        const handleOnlineEvent = () => {\n            $mdToast.show(\n                $mdToast.simple().textContent('You are back online! 🎉')\n            );\n\n            const projects = document.querySelectorAll('.project');\n            projects.forEach(project => {\n                project.classList.remove('unavailable-offline');\n            });\n        }\n\n        // Detects if device is an iOS (including iOS 13) \n        const isIos = /iPad|iPhone|iPod/.test(navigator.userAgent) || (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);\n\n        // Detects if device is in standalone mode\n        const isInStandaloneMode = window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone === true;\n        \n    }\n\n})();\n(function(){\n    'use strict';\n\n    angular\n        .module('Portfolio')\n        .factory('ShareListener', [\"$mdToast\", function($mdToast) {\n            const copyToClipboard = function(str) {\n                const el = document.createElement('textarea');\n                el.value = str;\n                document.body.appendChild(el);\n                el.select();\n                document.execCommand('copy');\n                document.body.removeChild(el);\n                // show Toast message\n                $mdToast.show(\n                    $mdToast.simple()\n                    .textContent('Link copied to clipboard!')\n                    .hideDelay(2000)      \n                );\n            };\n\n            function listener($event) {\n                $event.preventDefault();\n                //cancel bubble\n                let _this = $event.currentTarget;\n                if (navigator.share) {\n                    navigator.share({\n                        title: 'CharisTheo',\n                        text: _this.children[0].textContent,\n                        url: _this.href,\n                    })\n                    .then(() => console.log('Successful share'))\n                    .catch((error) => console.log('Error sharing', error));\n                } else {\n                    // No share API found!\n                    // copy link to clipboard\n                    copyToClipboard(_this.href);\n                }\n                $event.cancelBubble = true; // prevent the card from toggling\n            }\n\n            return {\n                listener: listener,\n                copyToClipboard: copyToClipboard\n            }\n        }]);\n}());","(function(){\n    'use strict';\n\n    angular\n        .module('Portfolio')\n        .factory('ShareListener', [\"$mdToast\", function($mdToast) {\n            const copyToClipboard = function(str) {\n                const el = document.createElement('textarea');\n                el.value = str;\n                document.body.appendChild(el);\n                el.select();\n                document.execCommand('copy');\n                document.body.removeChild(el);\n                // show Toast message\n                $mdToast.show(\n                    $mdToast.simple()\n                    .textContent('Link copied to clipboard!')\n                    .hideDelay(2000)      \n                );\n            };\n\n            function listener($event) {\n                $event.preventDefault();\n                //cancel bubble\n                let _this = $event.currentTarget;\n                if (navigator.share) {\n                    navigator.share({\n                        title: 'CharisTheo',\n                        text: _this.children[0].textContent,\n                        url: _this.href,\n                    })\n                    .then(() => console.log('Successful share'))\n                    .catch((error) => console.log('Error sharing', error));\n                } else {\n                    // No share API found!\n                    // copy link to clipboard\n                    copyToClipboard(_this.href);\n                }\n                $event.cancelBubble = true; // prevent the card from toggling\n            }\n\n            return {\n                listener: listener,\n                copyToClipboard: copyToClipboard\n            }\n        }]);\n}());"]}